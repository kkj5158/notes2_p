## 목차
[[3-1 과제의 발제]]
[[3-2 과제의 요건]]
[[3-3 과제의 구현 _ 기본 설계]]
[[3-4 과제의 구현 _ 심화 설계]]
[[3-5 과제의 이론 _ 설계를 위한 이론]]
[[3-6 과제의 이론 _ 설계를 위한 이론]]
[[3-7 과제의 이론 _ 설계를 위한 이론]]
[[3-8 과제의 이론 _ 설계를 위한 이론]]
[[3-9 과제의 이론 _ 설계를 위한 이론]]
[[3-10 과제의 회고 (WIL + KPT)]]
[[3-11 과제의 발전 _ 추가 고려사항]]

# 1. E-커머스 서비스
 💡 아래 명세를 잘 읽어보고, 서버를 구현합니다.



## Description

- `e-커머스 상품 주문 서비스`를 구현해 봅니다.
- 상품 주문에 필요한 메뉴 정보들을 구성하고 조회가 가능해야 합니다.
- 사용자는 상품을 여러개 선택해 주문할 수 있고, 미리 충전한 잔액을 이용합니다.
- 상품 주문 내역을 통해 판매량이 가장 높은 상품을 추천합니다.

## Requirements

- 아래 4가지 API 를 구현합니다.
    - 잔액 충전 / 조회 API
    - 상품 조회 API
    - 주문 / 결제 API
    - 인기 판매 상품 조회 API
- 각 기능 및 제약사항에 대해 단위 테스트를 반드시 하나 이상 작성하도록 합니다.
- 다수의 인스턴스로 어플리케이션이 동작하더라도 기능에 문제가 없도록 작성하도록 합니다.
- 동시성 이슈를 고려하여 구현합니다.
- 재고 관리에 문제 없도록 구현합니다.

## API Specs

### 기본과제

1️⃣ **`주요`** **잔액 충전 / 조회 API**

- 결제에 사용될 금액을 충전하는 API 를 작성합니다.
- 사용자 식별자 및 충전할 금액을 받아 잔액을 충전합니다.
- 사용자 식별자를 통해 해당 사용자의 잔액을 조회합니다.

2️⃣ **`기본` 상품 조회 API**

- 상품 정보 ( ID, 이름, 가격, 잔여수량 ) 을 조회하는 API 를 작성합니다.
- 조회시점의 상품별 잔여수량이 정확하면 좋습니다.

3️⃣  **`주요` 선착순 쿠폰 기능**

- 선착순 쿠폰 발급 API 및 보유 쿠폰 목록 조회 API 를 작성합니다.
- 사용자는 선착순으로 할인 쿠폰을 발급받을 수 있습니다.
- 주문 시에 유효한 할인 쿠폰을 함께 제출하면, 전체 주문금액에 대해 할인 혜택을 부여받을 수 있습니다.

4️⃣ **`주요`** **주문 / 결제 API**

- 사용자 식별자와 (상품 ID, 수량) 목록을 입력받아 주문하고 결제를 수행하는 API 를 작성합니다.
- 결제는 기 충전된 잔액을 기반으로 수행하며 성공할 시 잔액을 차감해야 합니다.
- 데이터 분석을 위해 결제 성공 시에 실시간으로 주문 정보를 데이터 플랫폼에 전송해야 합니다. ( 데이터 플랫폼이 어플리케이션 `외부` 라는 가정만 지켜 작업해 주시면 됩니다 )

> 데이터 플랫폼으로의 전송 기능은 Mock API, Fake Module 등 다양한 방법으로 접근해 봅니다.

5️⃣  **`기본` 상위 상품 조회 API**

- 최근 3일간 가장 많이 팔린 상위 5개 상품 정보를 제공하는 API 를 작성합니다.
- 통계 정보를 다루기 위한 기술적 고민을 충분히 해보도록 합니다.

---

 💡 **KEY POINT**

- 동시에 여러 주문이 들어올 경우, 유저의 보유 잔고에 대한 처리가 정확해야 합니다.
- 각 상품의 재고 관리가 정상적으로 이루어져 잘못된 주문이 발생하지 않도록 해야 합니다.



# 2. 콘서트 예약 서비스

<aside> 💡 아래 명세를 잘 읽어보고, 서버를 구현합니다.

</aside>

## Description

- **`콘서트 예약 서비스`**를 구현해 봅니다.
- 대기열 시스템을 구축하고, 예약 서비스는 작업가능한 유저만 수행할 수 있도록 해야합니다.
- 사용자는 좌석예약 시에 미리 충전한 잔액을 이용합니다.
- 좌석 예약 요청시에, 결제가 이루어지지 않더라도 일정 시간동안 다른 유저가 해당 좌석에 접근할 수 없도록 합니다.

## Requirements

- 아래 5가지 API 를 구현합니다.
    - 유저 토큰 발급 API
    - 예약 가능 날짜 / 좌석 API
    - 좌석 예약 요청 API
    - 잔액 충전 / 조회 API
    - 결제 API
- 각 기능 및 제약사항에 대해 단위 테스트를 반드시 하나 이상 작성하도록 합니다.
- 다수의 인스턴스로 어플리케이션이 동작하더라도 기능에 문제가 없도록 작성하도록 합니다.
- 동시성 이슈를 고려하여 구현합니다.
- 대기열 개념을 고려해 구현합니다.

## API Specs

1️⃣ **`주요` 유저 대기열 토큰 기능**

- 서비스를 이용할 토큰을 발급받는 API를 작성합니다.
- 토큰은 유저의 UUID 와 해당 유저의 대기열을 관리할 수 있는 정보 ( 대기 순서 or 잔여 시간 등 ) 를 포함합니다.
- 이후 모든 API 는 위 토큰을 이용해 대기열 검증을 통과해야 이용 가능합니다.

> 기본적으로 폴링으로 본인의 대기열을 확인한다고 가정하며, 다른 방안 또한 고려해보고 구현해 볼 수 있습니다.

**2️⃣ `기본` 예약 가능 날짜 / 좌석 API**

- 예약가능한 날짜와 해당 날짜의 좌석을 조회하는 API 를 각각 작성합니다.
- 예약 가능한 날짜 목록을 조회할 수 있습니다.
- 날짜 정보를 입력받아 예약가능한 좌석정보를 조회할 수 있습니다.

> 좌석 정보는 1 ~ 50 까지의 좌석번호로 관리됩니다.

3️⃣ **`주요` 좌석 예약 요청 API**

- 날짜와 좌석 정보를 입력받아 좌석을 예약 처리하는 API 를 작성합니다.
- 좌석 예약과 동시에 해당 좌석은 그 유저에게 약 5분간 임시 배정됩니다. ( 시간은 정책에 따라 자율적으로 정의합니다. )
- 만약 배정 시간 내에 결제가 완료되지 않는다면 좌석에 대한 임시 배정은 해제되어야 하며 다른 사용자는 예약할 수 있어야 한다.

4️⃣ **`기본`** **잔액 충전 / 조회 API**

- 결제에 사용될 금액을 API 를 통해 충전하는 API 를 작성합니다.
- 사용자 식별자 및 충전할 금액을 받아 잔액을 충전합니다.
- 사용자 식별자를 통해 해당 사용자의 잔액을 조회합니다.

5️⃣ **`주요` 결제 API**

- 결제 처리하고 결제 내역을 생성하는 API 를 작성합니다.
- 결제가 완료되면 해당 좌석의 소유권을 유저에게 배정하고 대기열 토큰을 만료시킵니다.

<aside> 💡 **KEY POINT**

</aside>

- 유저간 대기열을 요청 순서대로 정확하게 제공할 방법을 고민해 봅니다.
- 동시에 여러 사용자가 예약 요청을 했을 때, 좌석이 중복으로 배정 가능하지 않도록 합니다.
# 3. (번외) 

<aside> 💡 아래 명세를 잘 읽어보고, 서버를 구현합니다.

</aside>

## Description

- 오픈 API 를 이용한 `맛집 검색 서비스` 를 구현해 봅니다.
- 키워드를 이용해 맛집을 검색할 수 있습니다.
- 인기 키워드 제공을 통해 사람들이 관심 있는 맛집이 무엇인지 알 수 있도록 합니다.

## Requirements

- 아래 2가지 API 를 구현합니다.
    - 맛집 검색 API
    - 인기 키워드 API
- 각 기능 및 제약사항에 대해 단위 테스트를 반드시 하나 이상 작성하도록 합니다.
- 외부 API 에서 장애가 발생하더라도 문제 없이 기능이 동작할 수 있도록 작성합니다.
- 대량의 검색 기록 데이터를 저장하는 것을 염두해 구현합니다.
- 정확도 높은 인기 키워드를 제공할 수 있도록 작성합니다.

## API Specs

1️⃣ **`주요` 맛집 검색 API**

- 키워드와 지역정보 등을 이용해 맛집 정보를 검색하는 API 를 작성합니다.
- 검색 조건으로 Sorting ( 정확도 순, 리뷰 개수 순 ) 을 지원해야 합니다.
- 검색 결과는 Pagination 을 통해 제공합니다.
- 검색 소스는 기본적으로 네이버 지역검색 API ( [https://developers.naver.com/docs/serviceapi/search/local/local.md](https://developers.naver.com/docs/serviceapi/search/local/local.md) ) 를 활용합니다.
- 검색 소스로 카카오 로컬 API ( [https://developers.kakao.com/docs/latest/ko/local/dev-guide#search-by-keyword](https://developers.kakao.com/docs/latest/ko/local/dev-guide#search-by-keyword) ) 가 추가될 수 있음을 고려해 작성해야 합니다.

2️⃣ **`주요` 인기 키워드 API**

- 사용자들이 많이 검색한 키워드를 최대 10개까지 조회하는 API 를 작성합니다.
- 각 키워드 별 검색 횟수 또한 함께 응답으로 내려주어야 합니다.

> 인기 검색 키워드를 효율적으로 다루기 위한 방안을 고민해 봅니다.

---

### 심화 과제

3️⃣ **`심화` 카테고리 기능**

- 인기 키워드 API를 지역 기반 카테고리와 함께 제공하는 기능을 제공합니다.
- H2 코드 기반으로 검색 결과를 색인하기 위한 방법에 대해 고민해봅니다.
- e.g. `강남` , `홍대` , `정자` , `성수` 등

<aside> 💡 **KEY POINT**

</aside>

- 외부 API 에 장애가 발생했을 때, 다른 API 로 전환해 정상적으로 서비스를 유지할 수 있도록 구현합니다.
- 인기 키워드를 저장, 조회하는 로직이 검색 성능에 영향을 최대한 끼치지 않아야 합니다.